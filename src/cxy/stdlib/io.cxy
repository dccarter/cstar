module io

@cInclude("<unistd.h>")

import "stdlib/string.cxy" as String

pub const STDOUT = unchecked!(STDOUT_FILENO, #i32);
pub const STDERR = unchecked!(STDERR_FILENO, #i32);
pub const STDIN  = unchecked!(STDERR_FILENO, #i32);

pub native func write(fd: i32, data: &const void, size: u64) : i64;

@inline
pub func println(s: string) {
    write(STDOUT, cstr!(s), String.len(s))
    write(STDOUT, cstr!("\n"), 1)
}

pub func prints[T](s: T) => println(f"${s} ${STDIN}")
